# Chrono

**Chrono** — веб‑приложение для планирования и организации публикаций в социальных сетях. Оно позволяет собирать клиентов, хранить шаблоны контента и управлять расписанием постов через календарь.

## Основные функции

- Регистрация и авторизация пользователей через Supabase
- Список клиентов с привязкой их социальных аккаунтов
- Создание и редактирование постов с медиафайлами
- Планирование публикаций на нужные даты и платформы
- Хранение шаблонов постов для быстрого повторного использования

## Установка

### Требования
- Node.js 18+ и npm

### Шаги
1. Установите зависимости:
   ```bash
   npm install
   ```
2. Создайте файл `.env` на основе примера `.env.example` и пропишите переменные окружения.
3. Запустите проект в режиме разработки:
   ```bash
   npm run dev
   ```
4. Для сборки production-версии выполните:
   ```bash
   npm run build
   ```

## Переменные окружения

Для подключения к Supabase необходимо задать следующие переменные в `.env`:

- `VITE_SUPABASE_URL` — адрес проекта Supabase
- `VITE_SUPABASE_ANON_KEY` — публичный ключ (Anon Key)

## Пример `.env.example`

```bash
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
```

## Database setup

Для инициализации базы данных выполните команду:

```bash
supabase db reset
```

Она очистит базу и заново применит миграции из каталога `supabase/migrations/`.
Если требуется только применить свежие миграции, запустите:

```bash
supabase migration up
```

Перед выполнением убедитесь, что проект связан с вашим экземпляром Supabase.
Если связь не настроена, выполните `supabase link` и следуйте инструкциям CLI.

## API routes

Приложение включает небольшой сервер Express в каталоге `api/`, который проксирует
запросы к Supabase. Запустить его можно командой:

```bash
node api/index.ts
```

Доступные маршруты:

### Clients
- `GET /api/clients` — список клиентов
- `POST /api/clients` — создать клиента
- `PUT /api/clients/:id` — обновить клиента
- `DELETE /api/clients/:id` — удалить клиента

### Posts
- `GET /api/posts` — список постов
- `POST /api/posts` — создать пост
- `PUT /api/posts/:id` — обновить пост
- `DELETE /api/posts/:id` — удалить пост

### Templates
- `GET /api/templates` — список шаблонов
- `POST /api/templates` — создать шаблон
- `PUT /api/templates/:id` — обновить шаблон
- `DELETE /api/templates/:id` — удалить шаблон
